<xml>
	<!-- TO EDIT THE NAME OF THE NDLL EDIT THIS -->
	<set name="NDLL_NAME" value="processinfo"/>

	<set name="HXCPP_ARM64" value="1" if="arm64" />
	<set name="HXCPP_ARMV7" value="1" if="armv7" />
	<set name="HXCPP_X86" value="1" if="x86" />
	<set name="HXCPP_X86_64" value="1" if="x86_64" />

	<include name="${HXCPP}/build-tool/BuildCommon.xml"/>

	<files id="common">
		<compilerflag value="-Iinclude"/>

		<file name="common/ExternalInterface.cpp"/>
		<file name="common/hxprocessinfo.cpp"/>
	</files>

	<set name="SLIBEXT" value=".lib" if="windows"/>
	<set name="SLIBEXT" value=".a" unless="windows"/>
	<!-- Android 静态库通常也是 .a，但在某些 hxcpp 配置中可能不同，保持你原本的设置以防万一 -->
	<set name="SLIBEXT" value=".so" if="webos || android"/>

	<set name="DEBUGEXTRA" value="-debug" if="fulldebug" />

	<!-- prefix = ${LIBPREFIX} -->
	<!-- suffix = ${MSVC_LIB_VERSION}${DEBUGEXTRA}${LIBEXTRA} -->
	<target id="NDLL" output="${NDLL_NAME}" tool="linker" toolid="${STD_MODULE_LINK}">
		<outdir name="../ndll/${BINDIR}"/>
		
		<!-- Desktop extensions -->
		<ext value=".ndll" if="windows || mac || linux"/>
		
		<!-- Android extension -->
		<ext value=".so" if="android"/>

		<files id="common"/>
		
		<!-- Android logging library (required for __android_log_print) -->
		<lib name="-llog" if="android"/>
	</target>

	<target id="default">
		<target id="NDLL"/>
	</target>
</xml>
